import h from "../src";
import Component from "./component";

export default class Casino extends Component {
  state = {
    randomNumbers: this.randomize(3)
  };

  private randomize(length: number) {
    return new Array(length)
      .join(".")
      .split(".")
      .map(() => Math.ceil(Math.random() * 10));
  }

  onDiceClick() {
    this.state.randomNumbers = this.randomize(this.randomize(1)[0]);
    this.update();
  }

  content() {
    const { randomNumbers } = this.state;
    return (
      <div>
        <h2>Casino</h2>
        <svg viewBox="0 0 512.016 512.016">
          <path d="M495.091 107.643L260.424.976a10.48 10.48 0 0 0-8.832 0L16.925 107.643a10.676 10.676 0 0 0-6.251 9.707v266.667c0 4.032 2.283 7.723 5.888 9.536l234.667 117.333a10.77 10.77 0 0 0 4.779 1.131 10.77 10.77 0 0 0 4.779-1.131l234.667-117.333a10.684 10.684 0 0 0 5.888-9.536V117.349a10.677 10.677 0 0 0-6.251-9.706zm-15.083 269.781l-224 112-224-112V124.219l224-101.824 224 101.824v253.205z" />
          <path d="M500.381 112.933c-2.432-5.376-8.725-7.701-14.123-5.291l-230.25 104.662L25.757 107.643c-5.419-2.411-11.691-.085-14.123 5.291-2.432 5.376-.064 11.691 5.291 14.123l234.667 106.667a10.625 10.625 0 0 0 8.832 0l234.667-106.667c5.354-2.433 7.722-8.748 5.29-14.124z" />
          <path d="M256.008 213.349c-5.888 0-10.667 4.779-10.667 10.667v277.333c0 5.888 4.779 10.667 10.667 10.667s10.667-4.779 10.667-10.667V224.016c0-5.888-4.779-10.667-10.667-10.667zM256.008 96.016c-18.539 0-32 8.981-32 21.333 0 12.352 13.461 21.333 32 21.333s32-8.981 32-21.333c0-12.352-13.461-21.333-32-21.333zM202.675 234.683c-12.373 0-21.333 13.461-21.333 32s8.96 32 21.333 32 21.333-13.461 21.333-32-8.96-32-21.333-32zM138.675 272.485c-12.373 0-21.333 13.461-21.333 32s8.96 32 21.333 32 21.333-13.461 21.333-32c0-18.538-8.96-32-21.333-32zM74.675 309.349c-12.373 0-21.333 13.461-21.333 32s8.96 32 21.333 32 21.333-13.461 21.333-32c0-18.538-8.96-32-21.333-32zM320.008 245.349c-12.373 0-21.333 13.461-21.333 32s8.96 32 21.333 32c12.373 0 21.333-13.461 21.333-32 0-18.538-8.96-32-21.333-32zM426.675 298.683c-12.373 0-21.333 13.461-21.333 32s8.96 32 21.333 32c12.373 0 21.333-13.461 21.333-32s-8.96-32-21.333-32z" />
        </svg>
        <table>
          <tr>
            {randomNumbers.map(num => <td>{num}</td>)}
            <td>
              = <b>{randomNumbers.reduce((a, b) => a + b)}</b>
            </td>
            <td>
              <button onclick={this.onDiceClick.bind(this)}>Dice!</button>
            </td>
          </tr>
        </table>
      </div>
    );
  }
}
